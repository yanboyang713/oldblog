<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>Cluster - Category - Boyang Yan's Tech Blog</title><link>https://yanboyang.com/categories/cluster/</link><description>Cluster - Category - Boyang Yan's Tech Blog</description><generator>Hugo -- gohugo.io</generator><language>en</language><managingEditor>yanboyang713@gmail.com (Boyang Yan)</managingEditor><webMaster>yanboyang713@gmail.com (Boyang Yan)</webMaster><lastBuildDate>Tue, 14 Dec 2021 12:08:00 +0800</lastBuildDate><atom:link href="https://yanboyang.com/categories/cluster/" rel="self" type="application/rss+xml"/><item><title>Creating ProxMox templates with packer</title><link>https://yanboyang.com/packer/</link><pubDate>Tue, 14 Dec 2021 12:08:00 +0800</pubDate><author>Author</author><guid>https://yanboyang.com/packer/</guid><description>Introduction With proxmox when can create templates for our VMS so we can have a standard starting point to install our applications on top of, these templates can be useful too so that you can pre-install packages for authentication, security, logging and etc without anyone else needing to think about it.
However, creating and managing these templates can become a challenge with how time-consuming and manual it can be. I want to show you how you can make this process more standardized and automated with the use of packer to allow you to declare your proxmox templates as code.</description></item><item><title>Proxmox PCI Passthrough</title><link>https://yanboyang.com/proxmoxpassthrough/</link><pubDate>Mon, 06 Dec 2021 16:04:00 +0800</pubDate><author>Author</author><guid>https://yanboyang.com/proxmoxpassthrough/</guid><description><![CDATA[Introduction PCI passthrough allows you to use a physical PCI device (graphics card, network card) inside a VM (KVM virtualization only).
If you &ldquo;PCI passthrough&rdquo; a device, the device is not available to the host anymore.
Note: PCI passthrough is an experimental feature in Proxmox VE! VMs with passthroughed devices cannot be migrated.
Enable the IOMMU First open your bootloader kernel command line config file.
1  vim /etc/default/grub   Find line GRUB_CMDLINE_LINUX_DEFAULT=&ldquo;quiet&rdquo;]]></description></item><item><title>Getting Started Set-up OVS for Proxmox</title><link>https://yanboyang.com/proxmoxovs/</link><pubDate>Mon, 06 Dec 2021 12:58:00 +0800</pubDate><author>Author</author><guid>https://yanboyang.com/proxmoxovs/</guid><description>Introduction Install Open vSwitch Update the package index and then install the Open vSwitch packages by executing:
1 2 3 apt update apt install ifupdown2 apt install openvswitch-switch root@pve-home:~# cat etc/network/interfaces https://karneliuk.com/2021/08/infrastructure-1-building-virtualized-environment-with-debian-linux-and-proxmox-on-hp-and-supermicro
ifreload -a ifup vmbr0
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 auto lo iface lo inet loopback auto enp6s0 iface enp6s0 inet manual auto enp1s0 iface enp1s0 inet manual auto enp2s0 iface enp2s0 inet manual auto enp3s0 iface enp3s0 inet manual auto enp5s0 iface enp5s0 inet manual auto ens9 iface ens9 inet manual auto vlan1 iface vlan1 inet static address 192.</description></item><item><title>Getting Started MikroTik Cloud Hosted Router (CHR) on Proxmox</title><link>https://yanboyang.com/chronproxmox/</link><pubDate>Mon, 06 Dec 2021 12:28:00 +0800</pubDate><author>Author</author><guid>https://yanboyang.com/chronproxmox/</guid><description>Introduction Cloud Hosted Router (CHR) is a RouterOS version intended for running as a virtual machine. It supports the x86 64-bit architecture and can be used on most of the popular hypervisors such as VMWare, Hyper-V, VirtualBox, KVM and others. CHR has full RouterOS features enabled by default but has a different licensing model than other RouterOS versions.
Prerequires read Cluster/Getting Started Set-up OVS for Proxmox read Cluster/Proxmox PCI Passthrough System Minimal Requirements Package version: RouterOS v6.</description></item><item><title>Create Proxmox cloud-init template</title><link>https://yanboyang.com/clouldinit/</link><pubDate>Fri, 03 Dec 2021 18:27:00 +0800</pubDate><author>Author</author><guid>https://yanboyang.com/clouldinit/</guid><description>Overview In this article, I&amp;rsquo;ll demonstrate how to create a cloud-init enabled Ubuntu 20.04 LTS base image to use on Proxmox VE.
Cloud Native Image The tradition packer builder to build a base image from an ISO file. Modern Linux distributions are increasingly moving away from this install method and preseed files. Rather, disk images are provided with the OS pre-installed, and configuration is performed via cloud-init. We will create a Proxmox KVM base image using Ubuntu&amp;rsquo;s KVM cloud image.</description></item><item><title>Build a Kubernetes cluster on Proxmox via Ansible and Terraform</title><link>https://yanboyang.com/k8sonproxmox/</link><pubDate>Wed, 01 Dec 2021 20:27:00 +0800</pubDate><author>Author</author><guid>https://yanboyang.com/k8sonproxmox/</guid><description>Overview Proxmox is an open-source hypervisor that have enterprise capabilities and a large community behind it.
For Terraform and Ansible, I always like the idea of infrastructure as code (iac) and Terraform and Ansible just make it easy to accomplish.
The idea here was to be able to spin up a k3s cluster with minimum effort so I can spin it up and down for ever project that I would like to run.</description></item><item><title>Getting Started Configuring VLANs on Proxmox</title><link>https://yanboyang.com/vlan/</link><pubDate>Fri, 05 Nov 2021 19:52:00 +0800</pubDate><author>Author</author><guid>https://yanboyang.com/vlan/</guid><description>Introduction A virtualization server allows you to run multiple machines, virtual machines (VMs), on one physical device, also known as the host. There could be many different VMs each for different tasks. In this guide, we will discuss configuring your Proxmox virtualization server to use VLANs so that you can group related VMs onto their own subnet.
Motivation For security, as well as organizational purposes, physical machines are often separated on the network from each other by VLANs.</description></item><item><title>Getting Started ROS and Openwrt with Proxmox</title><link>https://yanboyang.com/rosandopenwrtproxmox/</link><pubDate>Fri, 05 Nov 2021 19:52:00 +0800</pubDate><author>Author</author><guid>https://yanboyang.com/rosandopenwrtproxmox/</guid><description>mikrotik https://mikrotik.com/software
OpenWrt https://openwrt.org/downloads https://downloads.openwrt.org/releases/21.02.1/targets/x86/ https://downloads.openwrt.org/releases/21.02.1/targets/x86/64/
Migration of servers to Proxmox VE https://pve.proxmox.com/wiki/Migration%5Fof%5Fservers%5Fto%5FProxmox%5FVE
VLAN https://engineerworkshop.com/blog/configuring-vlans-on-proxmox-an-introductory-guide/</description></item></channel></rss>