<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>Getting started with Rust - Boyang Yan's Tech Blog</title><meta name=description content="This is Boyang Yan's Tech Blog"><meta property="og:title" content="Getting started with Rust"><meta property="og:description" content="Introduction Rust is a new systems programming language that combines the performance and low-level control of C and C++ with memory safety and thread safety. Rust&rsquo;s modern, flexible types ensure your program is free of null pointer dereferences, double frees, dangling pointers, and similar bugs, all at compile time, without runtime overhead. In multi-threaded code, Rust catches data races at complie time, making concurrency much easier to use.
Installing Rust Rustup: the Rust installer and version management tool."><meta property="og:type" content="article"><meta property="og:url" content="https://yanboyang.com/rustgettingstart/"><meta property="og:image" content="https://yanboyang.com/logo.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-08-17T04:09:00-04:00"><meta property="article:modified_time" content="2022-08-25T17:16:03+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://yanboyang.com/logo.png"><meta name=twitter:title content="Getting started with Rust"><meta name=twitter:description content="Introduction Rust is a new systems programming language that combines the performance and low-level control of C and C++ with memory safety and thread safety. Rust&rsquo;s modern, flexible types ensure your program is free of null pointer dereferences, double frees, dangling pointers, and similar bugs, all at compile time, without runtime overhead. In multi-threaded code, Rust catches data races at complie time, making concurrency much easier to use.
Installing Rust Rustup: the Rust installer and version management tool."><meta name=application-name content="LoveIt"><meta name=apple-mobile-web-app-title content="LoveIt"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=https://yanboyang.com/favicon.ico><link rel=icon type=image/png sizes=32x32 href=https://yanboyang.com/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://yanboyang.com/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=https://yanboyang.com/apple-touch-icon.png><link rel=mask-icon href=https://yanboyang.com/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=https://yanboyang.com/site.webmanifest><link rel=canonical href=https://yanboyang.com/rustgettingstart/><link rel=prev href=https://yanboyang.com/rcnn/><link rel=stylesheet href=https://yanboyang.com/lib/normalize/normalize.min.css><link rel=stylesheet href=https://yanboyang.com/css/style.min.css><link rel=stylesheet href=https://yanboyang.com/lib/fontawesome-free/all.min.css><link rel=stylesheet href=https://yanboyang.com/lib/animate/animate.min.css><meta name=baidu-site-verification content="wsCeKMuJ31RLblHf"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Getting started with Rust","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/yanboyang.com\/rustgettingstart\/"},"genre":"posts","wordcount":1825,"url":"https:\/\/yanboyang.com\/rustgettingstart\/","datePublished":"2022-08-17T04:09:00-04:00","dateModified":"2022-08-25T17:16:03+00:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Boyang Yan"},"description":""}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>("true"==="true"&&window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-101949995-1","auto"),ga("send","pageview"))</script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-101949995-1","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script><div class=header-wrapper><div class=header-title><a href=https://yanboyang.com/ title="Boyang Yan's Tech Blog"></a></div><div class=menu><div class=menu-inner><a class=menu-item href=https://yanboyang.com/>Home </a><a class=menu-item href=https://yanboyang.com/posts/>Posts </a><a class=menu-item href=https://yanboyang.com/tags/>Tags </a><a class=menu-item href=https://yanboyang.com/categories/>Categories </a><a class=menu-item href=https://yanboyang.com/about/>About Me </a><a class=menu-item href=https://yanboyang.com/calendar/>Calendar </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin"></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-101949995-1","auto"),ga("send","pageview"))</script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-101949995-1","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script><div class=header-container><div class=header-wrapper><div class=header-title><a href=https://yanboyang.com/ title="Boyang Yan's Tech Blog"></a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw"></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin"></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=https://yanboyang.com/ title>Home</a><a class=menu-item href=https://yanboyang.com/posts/ title>Posts</a><a class=menu-item href=https://yanboyang.com/tags/ title>Tags</a><a class=menu-item href=https://yanboyang.com/categories/ title>Categories</a><a class=menu-item href=https://yanboyang.com/about/ title>About Me</a><a class=menu-item href=https://yanboyang.com/calendar/ title>Calendar</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animated flipInX">Getting started with Rust</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://yanboyang.com/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>
Boyang Yan</a>
</span>&nbsp;<span class=post-category>included in <a href=https://yanboyang.com/categories/rust/><i class="far fa-folder fa-fw"></i>Rust</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2022-08-17>2022-08-17</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;1825 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;9 minutes&nbsp;</div></div><div class="details toc" id=toc-static kept=true><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#installing-rust>Installing Rust</a><ul><li><a href=#update-rust>Update Rust</a></li><li><a href=#test-cargo-installed>Test cargo installed</a></li><li><a href=#cargo-rustc-and-rustdoc>cargo, rustc and rustdoc</a></li></ul></li><li><a href=#create-a-new-rust-package>Create a new Rust package</a></li><li><a href=#a-simple-function>A Simple Function</a></li><li><a href=#writing-and-running-unit-tests>Writing and Running Unit Tests</a></li><li><a href=#reference-list>Reference List</a></li></ul></nav></div></div><div class=content id=content><h2 id=introduction>Introduction</h2><p>Rust is a new systems programming language that combines the performance and low-level control of C and C++ with memory safety and thread safety. Rust&rsquo;s modern, flexible types ensure your program is free of null pointer dereferences, double frees, dangling pointers, and similar bugs, all at compile time, without runtime overhead. In multi-threaded code, Rust catches data races at complie time, making concurrency much easier to use.</p><h2 id=installing-rust>Installing Rust</h2><p>Rustup: the Rust installer and version management tool. The primary way that install <strong>Rust</strong> is use <a href=https://rustup.rs/ target=_blank rel="noopener noreferrer">rustup</a>
, which is a Rust installer and version management tool, as this makes it easy to use the nightly toolchain.</p><p>It can be running on macOS, Linux, or another Unix-like OS. To download Rustup and install Rust, run the following in your terminal, then follow the on-screen instructions.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl --proto <span class=s1>&#39;=https&#39;</span> --tlsv1.2 -sSf https://sh.rustup.rs <span class=p>|</span> sh
</span></span></code></pre></td></tr></table></div></div><p>To get started you may need to restart your current shell.
This would reload your PATH environment variable to include
Cargo&rsquo;s bin directory ($HOME/.cargo/bin).</p><p>To configure your current shell, run:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>source</span> <span class=nv>$HOME</span>/.cargo/env
</span></span></code></pre></td></tr></table></div></div><p>File <strong>$HOME/.cargo/env</strong>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/sh
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=c1># rustup shell setup</span>
</span></span><span class=line><span class=cl><span class=c1># affix colons on either side of $PATH to simplify matching</span>
</span></span><span class=line><span class=cl><span class=k>case</span> <span class=s2>&#34;:</span><span class=si>${</span><span class=nv>PATH</span><span class=si>}</span><span class=s2>:&#34;</span> in
</span></span><span class=line><span class=cl>    *:<span class=s2>&#34;</span><span class=nv>$HOME</span><span class=s2>/.cargo/bin&#34;</span>:*<span class=o>)</span>
</span></span><span class=line><span class=cl>        <span class=p>;;</span>
</span></span><span class=line><span class=cl>    *<span class=o>)</span>
</span></span><span class=line><span class=cl>        <span class=c1># Prepending path in case a system-installed rustc needs to be overridden</span>
</span></span><span class=line><span class=cl>        <span class=nb>export</span> <span class=nv>PATH</span><span class=o>=</span><span class=s2>&#34;</span><span class=nv>$HOME</span><span class=s2>/.cargo/bin:</span><span class=nv>$PATH</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>;;</span>
</span></span><span class=line><span class=cl><span class=k>esac</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=update-rust>Update Rust</h3><p>Rust updates very frequently. If you have installed Rustup some time ago, chances are your Rust version is out of date. Get the latest version of Rust by running.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>rustup update
</span></span></code></pre></td></tr></table></div></div><h3 id=test-cargo-installed>Test cargo installed</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cargo --version
</span></span></code></pre></td></tr></table></div></div><h3 id=cargo-rustc-and-rustdoc>cargo, rustc and rustdoc</h3><ul><li><p><strong>cargo</strong> is Rust’s compilation manager, package manager, and general-purpose tool.</p><p>You can use Cargo to start a new project, build and run your program, and manage any external libraries your code depends on.</p></li><li><p><strong>rustc</strong> is the Rust compiler. Usually we let Cargo invoke the compiler for us, but sometimes it’s useful to run it directly.</p></li><li><p><strong>rustdoc</strong> is the Rust documentation tool. If you write documentation in comments of the appropriate form in your program’s source code, rustdoc can build nicely formatted HTML from them. Like rustc, we usually let Cargo run <strong>rustdoc</strong> for us.</p></li></ul><h2 id=create-a-new-rust-package>Create a new Rust package</h2><p>As a convenience, Cargo can create a new Rust package for us, with some standard metadata arranged appropriately:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-console data-lang=console><span class=line><span class=cl><span class=gp>$</span> cargo new --bin hello
</span></span><span class=line><span class=cl><span class=go>Created binary (application) `hello` project
</span></span></span></code></pre></td></tr></table></div></div><p>This command creates a new package directory named hello, and the &ndash;bin flag directs Cargo to prepare this as an executable, not a library. Looking inside the package’s top-level directory:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-console data-lang=console><span class=line><span class=cl><span class=go>(base) [yanboyang713@Boyang-ThinkpadT470s] ➜ hello (! master) ls -la
</span></span></span><span class=line><span class=cl><span class=go>total 24
</span></span></span><span class=line><span class=cl><span class=go>drwxr-xr-x 4 yanboyang713 yanboyang713 4096 Aug 16 17:23 .
</span></span></span><span class=line><span class=cl><span class=go>drwxr-xr-x 3 yanboyang713 yanboyang713 4096 Aug 16 17:23 ..
</span></span></span><span class=line><span class=cl><span class=go>-rw-r--r-- 1 yanboyang713 yanboyang713  174 Aug 16 17:23 Cargo.toml
</span></span></span><span class=line><span class=cl><span class=go>drwxr-xr-x 6 yanboyang713 yanboyang713 4096 Aug 16 17:23 .git
</span></span></span><span class=line><span class=cl><span class=go>-rw-r--r-- 1 yanboyang713 yanboyang713    8 Aug 16 17:23 .gitignore
</span></span></span><span class=line><span class=cl><span class=go>drwxr-xr-x 2 yanboyang713 yanboyang713 4096 Aug 16 17:23 src
</span></span></span></code></pre></td></tr></table></div></div><p>We can see that Cargo has created a file Cargo.toml to hold metadata for the package.
At the moment this file doesn’t contain much:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl> [yanboyang713@Boyang-ThinkpadT470s] ➜ hello (! master) cat Cargo.toml
</span></span><span class=line><span class=cl>[package]
</span></span><span class=line><span class=cl>name = &#34;hello&#34;
</span></span><span class=line><span class=cl>version = &#34;0.1.0&#34;
</span></span><span class=line><span class=cl>edition = &#34;2021&#34;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[dependencies]
</span></span></code></pre></td></tr></table></div></div><p>If our program ever acquires dependencies on other libraries, we can record them in this file, and Cargo will take care of downloading, building, and updating those libraries for us.</p><p>Cargo has set up our package for use with the git version control system, creating a .git metadata subdirectory, and a .gitignore file. You can tell Cargo to skip this step by specifying <strong>&ndash;vcs none</strong> on the command line.</p><p>The <strong>src</strong> subdirectory contains the actual Rust code:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-console data-lang=console><span class=line><span class=cl><span class=go>[yanboyang713@Boyang-ThinkpadT470s] ➜ hello (! master) cd src
</span></span></span><span class=line><span class=cl><span class=go>(base) [yanboyang713@Boyang-ThinkpadT470s] ➜ src (! master) ls -la
</span></span></span><span class=line><span class=cl><span class=go>total 12
</span></span></span><span class=line><span class=cl><span class=go>drwxr-xr-x 2 yanboyang713 yanboyang713 4096 Aug 16 17:23 .
</span></span></span><span class=line><span class=cl><span class=go>drwxr-xr-x 4 yanboyang713 yanboyang713 4096 Aug 16 17:23 ..
</span></span></span><span class=line><span class=cl><span class=go>-rw-r--r-- 1 yanboyang713 yanboyang713   45 Aug 16 17:23 main.rs
</span></span></span></code></pre></td></tr></table></div></div><p>It seems that Cargo has begun writing the program on our behalf. The main.rs file contains the text:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=k>fn</span> <span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;Hello, world!&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>In Rust, you don’t even need to write your own “Hello, World!” program.</p><p>We can invoke the <strong>cargo run</strong> command from any directory in the package to build and run our program:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-console data-lang=console><span class=line><span class=cl><span class=go>[yanboyang713@Boyang-ThinkpadT470s] ➜ src (! master) cargo run
</span></span></span><span class=line><span class=cl><span class=go>   Compiling hello v0.1.0 (/home/yanboyang713/learnRust/hello)
</span></span></span><span class=line><span class=cl><span class=go>    Finished dev [unoptimized + debuginfo] target(s) in 0.47s
</span></span></span><span class=line><span class=cl><span class=go>     Running `/home/yanboyang713/learnRust/hello/target/debug/hello`
</span></span></span><span class=line><span class=cl><span class=go>Hello, world!
</span></span></span></code></pre></td></tr></table></div></div><p>Here, Cargo has invoked the Rust compiler, rustc, and then run the executable it produced. Cargo places the executable in the target subdirectory at the top of the package:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-console data-lang=console><span class=line><span class=cl><span class=go> [yanboyang713@Boyang-ThinkpadT470s] ➜ src (! master) cd ../target/debug
</span></span></span><span class=line><span class=cl><span class=go>(base) [yanboyang713@Boyang-ThinkpadT470s] ➜ debug (! master) ls -la
</span></span></span><span class=line><span class=cl><span class=go>total 3804
</span></span></span><span class=line><span class=cl><span class=go>drwxr-xr-x 7 yanboyang713 yanboyang713    4096 Aug 16 17:33 .
</span></span></span><span class=line><span class=cl><span class=go>drwxr-xr-x 3 yanboyang713 yanboyang713    4096 Aug 16 17:33 ..
</span></span></span><span class=line><span class=cl><span class=go>drwxr-xr-x 2 yanboyang713 yanboyang713    4096 Aug 16 17:33 build
</span></span></span><span class=line><span class=cl><span class=go>-rw-r--r-- 1 yanboyang713 yanboyang713       0 Aug 16 17:33 .cargo-lock
</span></span></span><span class=line><span class=cl><span class=go>drwxr-xr-x 2 yanboyang713 yanboyang713    4096 Aug 16 17:33 deps
</span></span></span><span class=line><span class=cl><span class=go>drwxr-xr-x 2 yanboyang713 yanboyang713    4096 Aug 16 17:33 examples
</span></span></span><span class=line><span class=cl><span class=go>drwxr-xr-x 3 yanboyang713 yanboyang713    4096 Aug 16 17:33 .fingerprint
</span></span></span><span class=line><span class=cl><span class=go>-rwxr-xr-x 2 yanboyang713 yanboyang713 3862368 Aug 16 17:33 hello
</span></span></span><span class=line><span class=cl><span class=go>-rw-r--r-- 1 yanboyang713 yanboyang713     102 Aug 16 17:33 hello.d
</span></span></span><span class=line><span class=cl><span class=go>drwxr-xr-x 3 yanboyang713 yanboyang713    4096 Aug 16 17:33 incremental
</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-console data-lang=console><span class=line><span class=cl><span class=go>[yanboyang713@Boyang-ThinkpadT470s] ➜ debug (! master) ./hello
</span></span></span><span class=line><span class=cl><span class=go>Hello, world!
</span></span></span></code></pre></td></tr></table></div></div><p>When we’re through, Cargo can clean up the generated files for us:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cargo clean
</span></span></code></pre></td></tr></table></div></div><h2 id=a-simple-function>A Simple Function</h2><p>Rust’s syntax is deliberately unoriginal. If you are familiar with C, C++, Java, or JavaScript, you can probably find your way through the general structure of a Rust program. Here is a function that computes the greatest common divisor of two integers, using Euclid’s algorithm:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=k>fn</span> <span class=nf>gcd</span><span class=p>(</span><span class=k>mut</span><span class=w> </span><span class=n>n</span>: <span class=kt>u64</span><span class=p>,</span><span class=w> </span><span class=k>mut</span><span class=w> </span><span class=n>m</span>: <span class=kt>u64</span><span class=p>)</span><span class=w> </span>-&gt; <span class=kt>u64</span> <span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>assert!</span><span class=p>(</span><span class=n>n</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>m</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=mi>0</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=k>while</span><span class=w> </span><span class=n>m</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=n>m</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>n</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=kd>let</span><span class=w> </span><span class=n>t</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>m</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>m</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>n</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=n>n</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>t</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=n>m</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>m</span><span class=w> </span><span class=o>%</span><span class=w> </span><span class=n>n</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=p>}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=n>n</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>The <strong>fn</strong> keyword (pronounced “fun”) introduces a function. Here, we’re defining a function named <strong>gcd</strong>, which takes two parameters n and m, each of which is of type <strong>u64</strong>, an unsigned 64-bit integer. The <strong>-></strong> token precedes the return type: our function returns a <strong>u64</strong> value. Four-space indentation is standard Rust style.</p><p>Rust’s machine integer type names reflect their size and signedness: <strong>i32</strong> is a signed 32-bit integer; <strong>u8</strong> is an unsigned eight-bit integer (used for “byte” values), and so on. The <strong>isize</strong> and <strong>usize</strong> types hold pointer-sized signed and unsigned integers, 32 bits long on 32-bit platforms, and 64 bits long on 64-bit platforms. Rust also has two floating-point types, f32 and f64, which are the IEEE single- and double-precision floating-point types, like float and double in C and C++.</p><p>By default, once a variable is initialized, its value can’t be changed, but placing the <strong>mut</strong> keyword (pronounced “mute”, short for mutable) before the parameters n and m allows our function body to assign to them. In practice, most variables don’t get assigned to; the mut keyword on those that do can be a helpful hint when reading code.</p><p>The function’s body starts with a call to the assert! macro, verifying that neither argument is zero. The ! character marks this as a macro invocation, not a function call. Like the assert macro in C and C++, Rust’s assert! checks that its argument is true, and if it is not, terminates the program with a helpful message including the source location of the failing check; this kind of abrupt termination is called a <strong>panic</strong>. Unlike C and C++, in which assertions can be skipped, Rust always checks assertions regardless of how the program was compiled. There is also a <strong>debug_assert!</strong> macro, whose assertions are skipped when the program is compiled for speed.</p><p>The heart of our function is a while loop containing an if statement and an assignment. Unlike C and C++, Rust does not require parentheses around the conditional expressions, but it does require curly braces around the statements they control.</p><p>A <strong>let</strong> statement declares a local variable, like <strong>t</strong> in our function. We don’t need to write out t’s type, as long as Rust can infer it from how the variable is used. In our function, the only type that works for t is u64, matching m and n. Rust only infers types within function bodies: you must write out the types of function parameters and return values, as we did before. If we wanted to spell out t’s type, we could write:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=kd>let</span><span class=w> </span><span class=n>t</span>: <span class=kt>u64</span> <span class=o>=</span><span class=w> </span><span class=n>m</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>Rust has a return statement, but the gcd function doesn’t need one. If a function body ends with an expression that is not followed by a semicolon, that’s the function’s return value. In fact, any block surrounded by curly braces can function as an expression. For example, this is an expression that prints a message and then yields x.cos()
as its value:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=fm>println!</span><span class=p>(</span><span class=s>&#34;evaluating cos x&#34;</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=n>x</span><span class=p>.</span><span class=n>cos</span><span class=p>()</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>It’s typical in Rust to use this form to establish the function’s value when control &ldquo;falls off the end&rdquo; of the function, and use return statements only for explicit early returns from the midst of a function.</p><h2 id=writing-and-running-unit-tests>Writing and Running Unit Tests</h2><p>Rust has simple support for testing built into the language. To test our gcd function, we can write:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-rust data-lang=rust><span class=line><span class=cl><span class=cp>#[test]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>fn</span> <span class=nf>test_gcd</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>assert_eq!</span><span class=p>(</span><span class=n>gcd</span><span class=p>(</span><span class=mi>14</span><span class=p>,</span><span class=w> </span><span class=mi>15</span><span class=p>),</span><span class=w> </span><span class=mi>1</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=fm>assert_eq!</span><span class=p>(</span><span class=n>gcd</span><span class=p>(</span><span class=mi>2</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mi>3</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mi>5</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mi>11</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mi>17</span><span class=p>,</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                   </span><span class=mi>3</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mi>7</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mi>11</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mi>13</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mi>19</span><span class=p>),</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>               </span><span class=mi>3</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=mi>11</span><span class=p>);</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=p>}</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>Here we define a function named <strong>test_gcd</strong>, which calls gcd and checks that it returns correct values. The <strong>#[test]</strong> atop the definition marks <strong>test_gcd</strong> as a test function, to be skipped in normal compilations, but included and called automatically if we run our program with the <strong>cargo test</strong> command. If our current directory is somewhere within the package’s subtree, we can run the tests as follows:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cargo <span class=nb>test</span>
</span></span></code></pre></td></tr></table></div></div><p>We can have test functions scattered throughout our source tree, placed next to the code they exercise, and cargo test will automatically gather them up and run them all.</p><p>The <strong>#[test]</strong> marker is an example of an attribute. Attributes are an open-ended system for marking functions and other declarations with extra information, like attributes in C++ and C#, or annotations in Java. They’re used to control compiler warnings and code style checks, include code conditionally (like #ifdef in C and C++), tell Rust how to interact with code written in other languages, and so on.</p><h2 id=reference-list>Reference List</h2><ol><li><a href=https://www.rust-lang.org/learn/get-started target=_blank rel="noopener noreferrer">https://www.rust-lang.org/learn/get-started</a></li></ol></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2022-08-25</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md><span><a class=link-to-markdown href=https://yanboyang.com/rustgettingstart/index.md target=_blank rel="noopener noreferrer">Read Markdown</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://yanboyang.com/rustgettingstart/ data-title="Getting started with Rust"><i class="fab fa-twitter fa-fw"></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://yanboyang.com/rustgettingstart/><i class="fab fa-facebook-square fa-fw"></i></a><a href=javascript:void(0); title="Share on WhatsApp" data-sharer=whatsapp data-url=https://yanboyang.com/rustgettingstart/ data-title="Getting started with Rust" data-web><i class="fab fa-whatsapp fa-fw"></i></a><a href=javascript:void(0); title="Share on Line" data-sharer=line data-url=https://yanboyang.com/rustgettingstart/ data-title="Getting started with Rust"><i data-svg-src=https://yanboyang.com/lib/simple-icons/icons/line.min.svg></i></a><a href=javascript:void(0); title="Share on 微博" data-sharer=weibo data-url=https://yanboyang.com/rustgettingstart/ data-title="Getting started with Rust"><i class="fab fa-weibo fa-fw"></i></a><a href=javascript:void(0); title="Share on Myspace" data-sharer=myspace data-url=https://yanboyang.com/rustgettingstart/ data-title="Getting started with Rust" data-description><i data-svg-src=https://yanboyang.com/lib/simple-icons/icons/myspace.min.svg></i></a><a href=javascript:void(0); title="Share on Blogger" data-sharer=blogger data-url=https://yanboyang.com/rustgettingstart/ data-title="Getting started with Rust" data-description><i class="fab fa-blogger fa-fw"></i></a><a href=javascript:void(0); title="Share on Evernote" data-sharer=evernote data-url=https://yanboyang.com/rustgettingstart/ data-title="Getting started with Rust"><i class="fab fa-evernote fa-fw"></i></a></span></div></div></div><div class=post-info-more><section class=post-tags></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=https://yanboyang.com/>Home</a></span></section></div><div class=post-nav><a href=https://yanboyang.com/rcnn/ class=prev rel=prev title="Introduction of RCNN,Fast RCNN,Faster RCNN"><i class="fas fa-angle-left fa-fw"></i>Introduction of RCNN,Fast RCNN,Faster RCNN</a></div></div><div id=comments><div id=disqus_thread class=comment></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://disqus.com/?ref_noscript>Disqus</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreferrer" title="Hugo 0.101.0">Hugo</a> | Theme - <a href=https://github.com/sunt-programator/CodeIT target=_blank rel="noopener noreferrer" title="CodeIT 0.2.10"><i class="fas fa-laptop-code fa-fw"></i> CodeIT</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2019 - 2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://yanboyang.com/ target=_blank rel="noopener noreferrer">Boyang Yan</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><link rel=stylesheet href=https://yanboyang.com/lib/katex/katex.min.css><link rel=stylesheet href=https://yanboyang.com/lib/katex/copy-tex.min.css><link rel=stylesheet href=https://yanboyang.com/lib/cookieconsent/cookieconsent.min.css><script type=text/javascript src=https://boyang-blog.disqus.com/embed.js defer></script><script type=text/javascript src=https://yanboyang.com/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=https://yanboyang.com/lib/autocomplete/autocomplete.min.js></script><script type=text/javascript src=https://yanboyang.com/lib/lunr/lunr.min.js></script><script type=text/javascript src=https://yanboyang.com/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=https://yanboyang.com/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=https://yanboyang.com/lib/sharer/sharer.min.js></script><script type=text/javascript src=https://yanboyang.com/lib/katex/katex.min.js></script><script type=text/javascript src=https://yanboyang.com/lib/katex/auto-render.min.js></script><script type=text/javascript src=https://yanboyang.com/lib/katex/copy-tex.min.js></script><script type=text/javascript src=https://yanboyang.com/lib/katex/mhchem.min.js></script><script type=text/javascript src=https://yanboyang.com/lib/cookieconsent/cookieconsent.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:1e3},comment:{},cookieconsent:{content:{dismiss:"Got it!",link:"Learn more",message:"This website uses Cookies to improve your experience."},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{highlightTag:"em",lunrIndexURL:"/index.json",maxResultLength:10,noResultsFound:"No results found",snippetLength:30,type:"lunr"}}</script><script type=text/javascript src=https://yanboyang.com/js/theme.min.js></script></body></html>