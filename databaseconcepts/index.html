<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=robots content="noodp">
<meta http-equiv=x-ua-compatible content="IE=edge, chrome=1">
<title>Database Concepts - Boyang Yan's Tech Blog</title><meta name=description content="This is Boyang Yan's Tech Blog"><meta property="og:title" content="Database Concepts">
<meta property="og:description" content="The world of data Data is generated every second, all over the world.
 The Web: homepages, Facebook Twitter, Mobiles and Sensors, Scientific and medical data: satellites, Enterprise information systems.  Data management  Management of data, of different types, is behind almost everything you do on the Web.  Google: Web pages, images, maps Amazon: books and other products Facebook: homepage, images, friendship, posts RMIT: library, student administration, course management, timetable.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://yanboyang.com/databaseconcepts/"><meta property="og:image" content="https://yanboyang.com/logo.png"><meta property="article:section" content="posts">
<meta property="article:modified_time" content="2021-12-15T11:38:49+00:00">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://yanboyang.com/logo.png">
<meta name=twitter:title content="Database Concepts">
<meta name=twitter:description content="The world of data Data is generated every second, all over the world.
 The Web: homepages, Facebook Twitter, Mobiles and Sensors, Scientific and medical data: satellites, Enterprise information systems.  Data management  Management of data, of different types, is behind almost everything you do on the Web.  Google: Web pages, images, maps Amazon: books and other products Facebook: homepage, images, friendship, posts RMIT: library, student administration, course management, timetable.">
<meta name=application-name content="LoveIt">
<meta name=apple-mobile-web-app-title content="LoveIt"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=https://yanboyang.com/favicon.ico>
<link rel=icon type=image/png sizes=32x32 href=https://yanboyang.com/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=https://yanboyang.com/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=https://yanboyang.com/apple-touch-icon.png><link rel=mask-icon href=https://yanboyang.com/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=https://yanboyang.com/site.webmanifest><link rel=canonical href=https://yanboyang.com/databaseconcepts/><link rel=prev href=https://yanboyang.com/dns/><link rel=next href=https://yanboyang.com/azureraisecase/><link rel=stylesheet href=https://yanboyang.com/lib/normalize/normalize.min.css><link rel=stylesheet href=https://yanboyang.com/css/style.min.css><link rel=stylesheet href=https://yanboyang.com/lib/fontawesome-free/all.min.css><link rel=stylesheet href=https://yanboyang.com/lib/animate/animate.min.css><meta name=baidu-site-verification content="wsCeKMuJ31RLblHf"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Database Concepts","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/yanboyang.com\/databaseconcepts\/"},"genre":"posts","wordcount":2278,"url":"https:\/\/yanboyang.com\/databaseconcepts\/","dateModified":"2021-12-15T11:38:49+00:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Boyang Yan"},"description":""}</script></head>
<body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':'auto'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'auto'==='dark')&&document.body.setAttribute('theme','dark')</script>
<div id=mask></div><div class=wrapper><header class=desktop id=header-desktop>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-101949995-1','auto'),ga('send','pageview'))</script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-101949995-1','auto'),ga('send','pageview'))</script>
<script async src=https://www.google-analytics.com/analytics.js></script>
<div class=header-wrapper>
<div class=header-title>
<a href=https://yanboyang.com/ title="Boyang Yan's Tech Blog"></a>
</div>
<div class=menu>
<div class=menu-inner><a class=menu-item href=https://yanboyang.com/> Home </a><a class=menu-item href=https://yanboyang.com/posts/> Posts </a><a class=menu-item href=https://yanboyang.com/tags/> Tags </a><a class=menu-item href=https://yanboyang.com/categories/> Categories </a><a class=menu-item href=https://yanboyang.com/about/> About Me </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search>
<i class="fas fa-search fa-fw"></i>
</a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear>
<i class="fas fa-times-circle fa-fw"></i>
</a>
<span class="search-button search-loading" id=search-loading-desktop>
<i class="fas fa-spinner fa-fw fa-spin"></i>
</span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i>
</a>
</div>
</div>
</div>
</header><header class=mobile id=header-mobile>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-101949995-1','auto'),ga('send','pageview'))</script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-101949995-1','auto'),ga('send','pageview'))</script>
<script async src=https://www.google-analytics.com/analytics.js></script>
<div class=header-container>
<div class=header-wrapper>
<div class=header-title>
<a href=https://yanboyang.com/ title="Boyang Yan's Tech Blog"></a>
</div>
<div class=menu-toggle id=menu-toggle-mobile>
<span></span><span></span><span></span>
</div>
</div>
<div class=menu id=menu-mobile><div class=search-wrapper>
<div class="search mobile" id=search-mobile>
<input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search>
<i class="fas fa-search fa-fw"></i>
</a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear>
<i class="fas fa-times-circle fa-fw"></i>
</a>
<span class="search-button search-loading" id=search-loading-mobile>
<i class="fas fa-spinner fa-fw fa-spin"></i>
</span>
</div>
<a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>
Cancel
</a>
</div><a class=menu-item href=https://yanboyang.com/ title>Home</a><a class=menu-item href=https://yanboyang.com/posts/ title>Posts</a><a class=menu-item href=https://yanboyang.com/tags/ title>Tags</a><a class=menu-item href=https://yanboyang.com/categories/ title>Categories</a><a class=menu-item href=https://yanboyang.com/about/ title>About Me</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i>
</a></div>
</div>
</header>
<div class="search-dropdown desktop">
<div id=search-dropdown-desktop></div>
</div>
<div class="search-dropdown mobile">
<div id=search-dropdown-mobile></div>
</div>
<main class=main>
<div class=container><div class=toc id=toc-auto>
<h2 class=toc-title>Contents</h2>
<div class=toc-content id=toc-content-auto></div>
</div><article class="page single"><h1 class="single-title animated flipInX">Database Concepts</h1><div class=post-meta>
<div class=post-meta-line><span class=post-author><a href=https://yanboyang.com/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>Boyang Yan</a></span></div>
<div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=0001-01-01>0001-01-01</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;2278 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;11 minutes&nbsp;</div>
</div><div class="details toc" id=toc-static kept=true>
<div class="details-summary toc-title">
<span>Contents</span>
<span><i class="details-icon fas fa-angle-right"></i></span>
</div>
<div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents>
<ul>
<li><a href=#the-world-of-data>The world of data</a></li>
<li><a href=#data-management>Data management</a></li>
<li><a href=#the-database-system>The database system</a></li>
<li><a href=#database-system-dimensions-overview>Database system dimensions Overview</a>
<ul>
<li><a href=#users>Users</a></li>
<li><a href=#databases>Databases</a>
<ul>
<li><a href=#databases-data-models>Databases: data models</a></li>
<li><a href=#databases-schema---the-defaintion-of-data-in-the-database>Databases: Schema - The defaintion of data in the database</a>
<ul>
<li><a href=#the-schema----example>The Schema &ndash; example</a></li>
</ul>
</li>
<li><a href=#databases-data>Databases: data</a></li>
<li><a href=#databases-metadata>Databases: Metadata</a></li>
<li><a href=#database-programming-language-----sql>Database programming Language &mdash; SQL</a></li>
<li><a href=#sql-characteristic>SQL characteristic</a></li>
</ul>
</li>
<li><a href=#transactions-and-concurrency-control>Transactions and Concurrency Control</a>
<ul>
<li><a href=#transactions>Transactions</a>
<ul>
<li><a href=#the-acid-properties-of-transactions>The ACID properties of transactions</a></li>
<li><a href=#transaction-processing>Transaction processing</a></li>
</ul>
</li>
<li><a href=#concurrency-control>Concurrency control</a>
<ul>
<li><a href=#transactions-commit-and-rollback>Transactions: Commit and Rollback</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href=#the-dbms>The DBMS</a></li>
<li><a href=#the-relation-model>The relation model</a>
<ul>
<li><a href=#basics-of-the-relational-model>Basics of the relational model</a>
<ul>
<li><a href=#data-integrity-constraints--key-and-primary-key>Data integrity constraints – Key and Primary Key</a></li>
<li><a href=#data-integrity-constraints----foreign-keys>Data Integrity Constraints &ndash; Foreign Keys</a></li>
<li><a href=#relation-schemas-with-data-integrity-constraints>Relation schemas with data integrity constraints</a></li>
<li><a href=#relational-databases>Relational databases</a>
<ul>
<li><a href=#a-small-movies-database>A (small) Movies database</a></li>
<li><a href=#the-movies-database-schema>The Movies database schema</a></li>
<li><a href=#define-relation-schemas-in-sql>Define relation schemas in SQL</a>
<ul>
<li><a href=#elements-of-table-definition>Elements of Table Definition</a></li>
</ul>
</li>
<li><a href=#sql-values>SQL Values</a></li>
<li><a href=#defining-primary-keys-in-sql>Defining Primary Keys in SQL</a></li>
<li><a href=#ensuring-data-integrity-primary-key-unique-constraints>Ensuring Data Integrity: primary key unique constraints</a></li>
<li><a href=#defining-foreign-keys>Defining Foreign Keys</a></li>
<li><a href=#the-movies-db--primary-and-foreign-keys>The Movies DB – Primary and Foreign Keys</a></li>
<li><a href=#ensuring-data-integrity--foreign-keys>Ensuring Data Integrity – foreign keys</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</nav></div>
</div><div class=content id=content><h2 id=the-world-of-data>The world of data</h2>
<p>Data is generated every second, all over the world.</p>
<ul>
<li>The Web: homepages, Facebook Twitter,</li>
<li>Mobiles and Sensors,</li>
<li>Scientific and medical data: satellites,</li>
<li>Enterprise information systems.</li>
</ul>
<h2 id=data-management>Data management</h2>
<ul>
<li>Management of data, of different types, is behind almost everything you do on the Web.
<ul>
<li>Google: Web pages, images, maps</li>
<li>Amazon: books and other products</li>
<li>Facebook: homepage, images, friendship, posts</li>
<li>RMIT: library, student administration, course management, timetable.</li>
<li>Digital libraries: Lynda.com</li>
</ul>
</li>
</ul>
<h2 id=the-database-system>The database system</h2>
<p>A database system is for efficiently and effectively managing and using data.</p>
<p><img class=lazyload src=https://yanboyang.com/svg/loading.min.svg data-src=https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615347266/DatabaseConcepts/DatabaseSystem_eoklds.png data-srcset="https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615347266/DatabaseConcepts/DatabaseSystem_eoklds.png, https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615347266/DatabaseConcepts/DatabaseSystem_eoklds.png 1.5x, https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615347266/DatabaseConcepts/DatabaseSystem_eoklds.png 2x" data-sizes=auto alt=https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615347266/DatabaseConcepts/DatabaseSystem_eoklds.png title=https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615347266/DatabaseConcepts/DatabaseSystem_eoklds.png></p>
<h2 id=database-system-dimensions-overview>Database system dimensions Overview</h2>
<ul>
<li>Users, roles and security</li>
<li>Databases</li>
<li>A database programming language</li>
<li>Transactions and concurrency control</li>
</ul>
<h3 id=users>Users</h3>
<p>There are multiple users for a database and they have different roles and privileges:</p>
<ul>
<li><strong>Database Administrator (DBA)</strong>: full control of the database &mdash; create and define database schemas, grant privileges to other users.</li>
<li><strong>Database developers</strong>: manage/control his/her own database.</li>
<li><strong>End users/data operators</strong>: only retrieve or update information in some parts of the database.</li>
</ul>
<p><img class=lazyload src=https://yanboyang.com/svg/loading.min.svg data-src=https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615357252/DatabaseConcepts/user_dhh3xq.png data-srcset="https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615357252/DatabaseConcepts/user_dhh3xq.png, https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615357252/DatabaseConcepts/user_dhh3xq.png 1.5x, https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615357252/DatabaseConcepts/user_dhh3xq.png 2x" data-sizes=auto alt=https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615357252/DatabaseConcepts/user_dhh3xq.png title=https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615357252/DatabaseConcepts/user_dhh3xq.png></p>
<h3 id=databases>Databases</h3>
<p>A database is a collection of data (facts) that describe something of interest managed by a Database Management System (DBMS). More strictly speaking, a database is more than a collection &mdash; it is a collection of data management of a DBMS.</p>
<ul>
<li>Schema + Data files.</li>
</ul>
<h4 id=databases-data-models>Databases: data models</h4>
<p>A data model is a description of data so that the data can be more easily understood.</p>
<ul>
<li>
<p>A data model is a language for describing data or information. The description generally consists of three parts:</p>
<ul>
<li>Structure of the data, or data structure.</li>
<li>Operations on the data.</li>
<li>Constraints on the data</li>
</ul>
</li>
<li>
<p>Popular data models:</p>
<ul>
<li>The relational model for structured data, including object-relational extensions.</li>
<li>The semi-structured data model, including XML and related standards.</li>
</ul>
</li>
</ul>
<p>** NOTE: ** I will talk about the relational model details after.</p>
<h4 id=databases-schema---the-defaintion-of-data-in-the-database>Databases: Schema - The defaintion of data in the database</h4>
<ul>
<li>A description of data in the database. The description can use data models at different levels.
<ul>
<li>The Entity Relationship (ER) model.</li>
<li>The Relational model.</li>
</ul>
</li>
<li>Constraints for data integrity.</li>
</ul>
<p>** NOTE: ** Data constraints are restrictions on facts so that only sensible facts are kept in the database. Constraints should be derived from the real-world.</p>
<h5 id=the-schema----example>The Schema &ndash; example</h5>
<p>Real world:</p>
<ul>
<li>Information: Student records should have student ID, name, contact phone number, and address.</li>
<li>Constraints:
<ul>
<li>Each student should be identified by Student No – Each student record must have the student No information.</li>
<li>No two students can have the same student ID &mdash; Each student should have a unique student ID.</li>
</ul>
</li>
<li>ER model:
<img class=lazyload src=https://yanboyang.com/svg/loading.min.svg data-src=https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615405209/DatabaseConcepts/SchemaERmodel_c5moju.png data-srcset="https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615405209/DatabaseConcepts/SchemaERmodel_c5moju.png, https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615405209/DatabaseConcepts/SchemaERmodel_c5moju.png 1.5x, https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615405209/DatabaseConcepts/SchemaERmodel_c5moju.png 2x" data-sizes=auto alt=https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615405209/DatabaseConcepts/SchemaERmodel_c5moju.png title=https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615405209/DatabaseConcepts/SchemaERmodel_c5moju.png></li>
<li>Relation schema:
Student(\underline{studentNo}, name, phone, address)</li>
</ul>
<p><strong>NOTE:</strong> underline mean primary key.</p>
<h4 id=databases-data>Databases: data</h4>
<ul>
<li>Data files on hard disks of computers.
<ul>
<li>The files are managed by a DBMS (on top of some file system).</li>
</ul>
</li>
<li>How to access the data?
<ul>
<li>Via the programming language (SQL) provided by the DBMS.</li>
<li>Data (and the meta-data) can be read, retrieved and updated.</li>
</ul>
</li>
</ul>
<p>** NOTE: ** : data is information or facts about things (entities) in the real-world.</p>
<h4 id=databases-metadata>Databases: Metadata</h4>
<ul>
<li>Metadata (sometimes called data dictionary) is data describing the database, which may include:
<ul>
<li>Schema definition</li>
<li>Index – to speed up query processing</li>
<li>Data types</li>
<li>Constraints on data</li>
<li>User information and privileges</li>
</ul>
</li>
</ul>
<h4 id=database-programming-language-----sql>Database programming Language &mdash; SQL</h4>
<p>SQL &ndash; Structured Query Language &mdash; is not only a query language:</p>
<ul>
<li>Data Definition Language (DDL)
<ul>
<li>Define database schema</li>
</ul>
</li>
<li>Data Query Language (DQL)
<ul>
<li>Query the database to extract information</li>
</ul>
</li>
<li>Data Manipulation Language (DML)
<ul>
<li>Update the database – insertion/deletion/update.</li>
</ul>
</li>
</ul>
<p>** NOTE: ** A query is a form of inquiry of the data in the database. A query is usually a program written in the query language (SQL) provided by a DBMS.</p>
<h4 id=sql-characteristic>SQL characteristic</h4>
<ul>
<li>Database programming language SQL is declarative &mdash; you tell the system what problem to solve.
<ul>
<li>Short programs.</li>
<li>System optimization.</li>
</ul>
</li>
<li>Most other programming languages are procedural &mdash; you tell the system how to solve the problem.
<ul>
<li>Long programs.</li>
<li>User optimization.</li>
</ul>
</li>
</ul>
<p>For Example:
Given a list of records for students (student ID, name, address&mldr;) enrolled in ISYS1055/1057, calculate how many students are there in total?</p>
<ul>
<li>In SQL:
<ul>
<li>select count(studentID) from Student;</li>
</ul>
</li>
<li>In C: read files, data structure, loop structure, output.
<ul>
<li><a href=https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615406896/DatabaseConcepts/SQLexample_wmhsbg.png target=_blank rel="noopener noreferrer"></a></li>
</ul>
</li>
</ul>
<h3 id=transactions-and-concurrency-control>Transactions and Concurrency Control</h3>
<p>Many users operate the same database concurrently:</p>
<ul>
<li>Many students are booking tute classes on a timetable database.</li>
<li>Many people book flight tickets online.</li>
</ul>
<h4 id=transactions>Transactions</h4>
<ul>
<li>Operations on databases (DDL/DML/DQL) are organized into transactions – an atomic unit that must finish in whole or nothing happens at all. No partial effect on the database.
<ul>
<li>A transaction comprises several operations of READ and WRITE on databases.</li>
</ul>
</li>
<li>The execution of transactions should be durable &mdash; the effect of any completed transaction is permanent, even if system failure happens.
<ul>
<li>By way of logging.</li>
</ul>
</li>
</ul>
<h5 id=the-acid-properties-of-transactions>The ACID properties of transactions</h5>
<ul>
<li><strong>Atomicity</strong> – the all-or-nothing execution of transactions</li>
<li><strong>Consistency</strong> – a transaction brings a database from one consistent state to another. In other words, meeting consistency constraints like balance can not be negative after a transaction.</li>
<li><strong>Isolation</strong> &ndash; each transaction must appear to execute as if no other transactions are executing at the same time.</li>
<li><strong>Durability</strong> – effect of a transaction is must never be lost, once transaction complete.</li>
</ul>
<h5 id=transaction-processing>Transaction processing</h5>
<p><img class=lazyload src=https://yanboyang.com/svg/loading.min.svg data-src=https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615407865/DatabaseConcepts/TransactionProcessing_hsig3t.png data-srcset="https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615407865/DatabaseConcepts/TransactionProcessing_hsig3t.png, https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615407865/DatabaseConcepts/TransactionProcessing_hsig3t.png 1.5x, https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615407865/DatabaseConcepts/TransactionProcessing_hsig3t.png 2x" data-sizes=auto alt=https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615407865/DatabaseConcepts/TransactionProcessing_hsig3t.png title=https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615407865/DatabaseConcepts/TransactionProcessing_hsig3t.png></p>
<h4 id=concurrency-control>Concurrency control</h4>
<ul>
<li>Concurrency control allows multiple users
<ul>
<li>transactions from each user are executed in “isolation”.</li>
</ul>
</li>
</ul>
<h5 id=transactions-commit-and-rollback>Transactions: Commit and Rollback</h5>
<ul>
<li>The “Commit” and “Rollback” command in SQL.</li>
<li>Example:</li>
</ul>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=k>select</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>movies</span><span class=p>;</span><span class=w> </span><span class=o>//</span><span class=w> </span><span class=k>show</span><span class=w> </span><span class=n>content</span><span class=w> </span><span class=k>of</span><span class=w> </span><span class=n>the</span><span class=w> </span><span class=n>Movie</span><span class=w> </span><span class=k>table</span><span class=p>.</span><span class=w>
</span><span class=w></span><span class=k>delete</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>movies</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>mvID</span><span class=w> </span><span class=o>=</span><span class=mi>2</span><span class=p>;</span><span class=w> </span><span class=o>//</span><span class=w> </span><span class=n>updates</span><span class=w> </span><span class=k>to</span><span class=w> </span><span class=n>the</span><span class=w> </span><span class=n>Movie</span><span class=w> </span><span class=k>table</span><span class=p>.</span><span class=w>
</span><span class=w></span><span class=k>select</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>movies</span><span class=p>;</span><span class=w> </span><span class=o>//</span><span class=w> </span><span class=k>show</span><span class=w> </span><span class=n>content</span><span class=w> </span><span class=k>of</span><span class=w> </span><span class=n>the</span><span class=w> </span><span class=n>Movie</span><span class=w> </span><span class=k>table</span><span class=p>.</span><span class=w>
</span><span class=w></span><span class=k>rollback</span><span class=p>;</span><span class=w> </span><span class=o>//</span><span class=w> </span><span class=k>rollback</span><span class=w> </span><span class=n>the</span><span class=w> </span><span class=n>changes</span><span class=p>.</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><ul>
<li>Starting the SQL Developer application starts a new session. When the application is killed (not when you close a connection), if there are updates to the database, you are asked whether to “commit the changes” or “rollback changes”.</li>
</ul>
<h2 id=the-dbms>The DBMS</h2>
<p>A database management system (DBMS) is a software for managing data. It provides mechanism for defining/describing data, querying the data and maintain the integrity and correctness of data (transactions and concurrency). Oracle is a DBMS.</p>
<p>A DBMS typically has three parts:</p>
<ul>
<li>Storage management: how secondary storage (hard disks) is used effectively to store and access data.</li>
<li>Query processing: how to execute (SQL) queries</li>
<li>Transaction management: how to support transactions with the ACID properties.</li>
</ul>
<h2 id=the-relation-model>The relation model</h2>
<p>The relational model is based on a single structure to represent data, a two-dimensional table called a relation.</p>
<ul>
<li>Example &ndash; the “movie” relation.
<img class=lazyload src=https://yanboyang.com/svg/loading.min.svg data-src=https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615411348/DatabaseConcepts/movieRelation_rpd7ie.png data-srcset="https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615411348/DatabaseConcepts/movieRelation_rpd7ie.png, https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615411348/DatabaseConcepts/movieRelation_rpd7ie.png 1.5x, https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615411348/DatabaseConcepts/movieRelation_rpd7ie.png 2x" data-sizes=auto alt=https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615411348/DatabaseConcepts/movieRelation_rpd7ie.png title=https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615411348/DatabaseConcepts/movieRelation_rpd7ie.png></li>
</ul>
<h3 id=basics-of-the-relational-model>Basics of the relational model</h3>
<ul>
<li>
<p><strong>Attributes</strong> are the names for the columns of a relation. Each attribute has a domain &mdash; the set of all possible values allowed for the attribute, in another word it is type.</p>
</li>
<li>
<p><strong>Tuples</strong> are the rows of data in a relation comprising components that are atomic &mdash; a component cannot be broken into smaller components. Each component of a tuple is a value from the corresponding attribute domain.</p>
</li>
<li>
<p><strong>Schema</strong> of a relation is the name of a relation and its attributes. The schema for a relation is written as relation name followed by a list of is attributes in a pair of brackets.</p>
</li>
<li>
<p>A <strong>relation instance</strong> is a set of tuples, or the data, for a given relation.
– It is common to update the content of a relation and have a new relation instance.
– It is less common to update the schema.</p>
</li>
<li>
<p>Typically, a database system only keeps the ”current” relation instance – the data “now” kept in relations.</p>
</li>
<li>
<p>The term “relation” can refer to a relation schema or a relation instance, and usually can be determined from the context.</p>
</li>
</ul>
<p>There is a example:</p>
<p><img class=lazyload src=https://yanboyang.com/svg/loading.min.svg data-src=https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615411348/DatabaseConcepts/movieRelation_rpd7ie.png data-srcset="https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615411348/DatabaseConcepts/movieRelation_rpd7ie.png, https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615411348/DatabaseConcepts/movieRelation_rpd7ie.png 1.5x, https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615411348/DatabaseConcepts/movieRelation_rpd7ie.png 2x" data-sizes=auto alt=https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615411348/DatabaseConcepts/movieRelation_rpd7ie.png title=https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615411348/DatabaseConcepts/movieRelation_rpd7ie.png></p>
<ul>
<li>The <strong>schema of the Movie relation</strong> is Movie(mvID, Title, Rating, Rel_date, Length, Studio).</li>
<li>The <strong>domain</strong> of mvID is Integer (data type).</li>
<li>The current instance of Movie relation has 5 tuples. The first tuple of Movie relation has 6 components:
<ul>
<li>1, ‘Angels & Demons’, M, 14-05-2009, 138, ‘Sony Pictures’.
<strong>Note</strong> that the date ’14-05-2009’ is an atomic value.</li>
</ul>
</li>
</ul>
<h4 id=data-integrity-constraints--key-and-primary-key>Data integrity constraints – Key and Primary Key</h4>
<ul>
<li>
<p>An attribute or list of attributes are a <strong>Key</strong> of a relation if no two tuples/rows of the relation may agree in all the attribute(s) on the list. If there are several candidate keys, one is specified as the Primary Key.
– No two movies can have the same value for mvID. mvID is the artificial key of Movie.
– A movie (represented by mvID) can be linked to multiple genres, and a genre can link to multiple movies. So the mvID and genre together – {mvID, Genre} &ndash; are the only key for Classification.</p>
</li>
<li>
<p>Primary key attributes are underlined in relation schemas.</p>
</li>
<li>
<p>Note that the key constraint is a natural property of real-world data and part of a relation schema. Key definition can only be derived from the real-world. Although sample data in a relation can help disapprove a possible key definition, they cannot be used to prove a key definition.</p>
</li>
<li>
<p>Example: For the Movie relation, even though the current content of the Movie relation may suggest that each movie has a distinct title, title is not a key for the relation. “No two movies can have the same title” is not a property that is always true for all movies to keep in a database.</p>
</li>
</ul>
<h4 id=data-integrity-constraints----foreign-keys>Data Integrity Constraints &ndash; Foreign Keys</h4>
<ul>
<li>The <strong>foreign key</strong> constraint declares that an attribute or attributes of a relation references the
primary key or key of a second relation.
<ul>
<li>Values for the foreign key in the first relation must appear in the referenced attributes of the second relation.</li>
<li>A child-parent relationship &ndash; the first and second relations can be seen as “child” and “parent” relations.</li>
</ul>
</li>
<li>Foreign keys in a relation schema are usually denoted by an asterisk (*).</li>
<li>A foreign-key constraint on a relation prevents introducing nonsensical data into the relation.
<ul>
<li>No insertion or update to the child relation introduces values not found in the parent
relation.</li>
<li>No deletion or update to the child relation causes some tuples of the parent relation to “dangle.”</li>
</ul>
</li>
</ul>
<h4 id=relation-schemas-with-data-integrity-constraints>Relation schemas with data integrity constraints</h4>
<ul>
<li>Primary key attributes are underlined.
<ul>
<li>The primary key of a relation may comprise more than one attribute.</li>
</ul>
</li>
<li>Foreign key attributes are annotated with the asterisk.</li>
<li>A primary key attribute can also be a foreign key.</li>
</ul>
<p>There is a Examples:
Movie(mvID, Title, Rating, Rel_date, Length, Studio) - parent
Classification(mvID*, genre) - child</p>
<h4 id=relational-databases>Relational databases</h4>
<ul>
<li>A relational database schema is the set of all relation schemas in the database.</li>
<li>A relational database instance comprises a set of relation instances. Or informally, a relational database comprises a set of relations, or tables.</li>
</ul>
<p>There is a example:</p>
<h5 id=a-small-movies-database>A (small) Movies database</h5>
<p>Data to keep in the database:</p>
<ul>
<li>Movie: mvID, title, rating, release date, length (in minutes), producer studio. mvID is an artificial
attribute (not natural information).</li>
<li>Classification: a movie may be associated with several genres (comedy, action, violence, adventure, drama).</li>
<li>Cast: A movie has many actors, and an actor can perform in many movies.</li>
<li>Direct: A movie can have several directors (usually less than three) and a director can direct many movies.</li>
</ul>
<h5 id=the-movies-database-schema>The Movies database schema</h5>
<p>Movie(mvID, Title, Rating, Rel_date,
Length, Studio )
Classification(mvID*, Genre)
Cast(mvID*, Actor)
Direct(mvID*, Director)</p>
<p><img class=lazyload src=https://yanboyang.com/svg/loading.min.svg data-src=https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615414823/DatabaseConcepts/exampleDatabase_zlxtw9.png data-srcset="https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615414823/DatabaseConcepts/exampleDatabase_zlxtw9.png, https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615414823/DatabaseConcepts/exampleDatabase_zlxtw9.png 1.5x, https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615414823/DatabaseConcepts/exampleDatabase_zlxtw9.png 2x" data-sizes=auto alt=https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615414823/DatabaseConcepts/exampleDatabase_zlxtw9.png title=https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615414823/DatabaseConcepts/exampleDatabase_zlxtw9.png></p>
<h5 id=define-relation-schemas-in-sql>Define relation schemas in SQL</h5>
<ul>
<li>SQL is a data definition language for defining database schemas and constraints.
<ul>
<li>The CREATE TABLE statement defines and creates an empty table.</li>
</ul>
</li>
</ul>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Movie</span><span class=p>(</span><span class=w>
</span><span class=w>    </span><span class=n>mvID</span><span class=w>     </span><span class=nb>INTEGER</span><span class=p>,</span><span class=w>
</span><span class=w>    </span><span class=n>title</span><span class=w>    </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>40</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=n>rating</span><span class=w>   </span><span class=nb>CHAR</span><span class=p>(</span><span class=mi>2</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=n>rel_date</span><span class=w> </span><span class=nb>DATE</span><span class=p>,</span><span class=w>
</span><span class=w>    </span><span class=k>length</span><span class=w>   </span><span class=nb>INTEGER</span><span class=p>,</span><span class=w>
</span><span class=w>    </span><span class=n>studio</span><span class=w>   </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>
</span><span class=w></span><span class=p>);</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><p>This will create a empty table.</p>
<h6 id=elements-of-table-definition>Elements of Table Definition</h6>
<ul>
<li>Most basic element: an attribute and its type.</li>
<li>The most common types are:
<ul>
<li>INT or INTEGER (synonyms).</li>
<li>REAL or FLOAT (synonyms).</li>
<li>CHAR(n) = fixed-length string of n characters.</li>
<li>VARCHAR(n ) = variable-length string of up to n characters.</li>
</ul>
</li>
</ul>
<h5 id=sql-values>SQL Values</h5>
<ul>
<li>Strings require single quotes.
<ul>
<li>E.g., ‘Tom Hanks’, and ‘The Proposal’.</li>
<li>Two single quotes = real quote, e.g., ’Mary’’s little lamb’.</li>
</ul>
</li>
<li>Any value can be NULL.
<ul>
<li>NULL can have several semantics: Value unknown, inapplicable, or withheld.</li>
</ul>
</li>
<li>DATE and TIME are types in SQL and so there are DATE and TIME values.
<ul>
<li>The default form of a date value is ’DD-MON-YYYY’ (e.g. ‘25-JUL-2010’).</li>
<li>The form of a time value is: ’hh:mm:ss’, with an optional decimal point and fractions of a second following.</li>
<li>TIME ’15:30:02.5’ = two and a half seconds after 3:30PM.</li>
</ul>
</li>
</ul>
<p>There is a example:</p>
<ul>
<li>The SQL code below creates an empty table.</li>
</ul>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=k>create</span><span class=w> </span><span class=k>table</span><span class=w> </span><span class=n>movie</span><span class=w> </span><span class=p>(</span><span class=w>
</span><span class=w>	</span><span class=n>mvid</span><span class=w> </span><span class=nb>integer</span><span class=p>,</span><span class=w>
</span><span class=w>	</span><span class=n>title</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>40</span><span class=p>),</span><span class=w>
</span><span class=w>	</span><span class=n>rating</span><span class=w> </span><span class=nb>char</span><span class=p>(</span><span class=mi>2</span><span class=p>),</span><span class=w>
</span><span class=w>	</span><span class=n>rel_date</span><span class=w> </span><span class=nb>date</span><span class=p>,</span><span class=w>
</span><span class=w>	</span><span class=k>length</span><span class=w> </span><span class=nb>integer</span><span class=p>,</span><span class=w>
</span><span class=w>	</span><span class=n>studio</span><span class=w> </span><span class=nb>varchar</span><span class=p>(</span><span class=mi>20</span><span class=p>));</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><ul>
<li>The code below insert data values into the table.</li>
</ul>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=k>insert</span><span class=w> </span><span class=k>into</span><span class=w> </span><span class=n>movie</span><span class=w> </span><span class=k>values</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=err>‘</span><span class=n>Mary</span><span class=err>’’</span><span class=n>s</span><span class=w> </span><span class=n>little</span><span class=w> </span><span class=n>lamb</span><span class=err>’</span><span class=p>,</span><span class=w> </span><span class=err>‘</span><span class=k>G</span><span class=err>’</span><span class=p>,</span><span class=w> </span><span class=err>’</span><span class=mi>14</span><span class=o>-</span><span class=n>MAY</span><span class=o>-</span><span class=mi>2001</span><span class=err>’</span><span class=p>,</span><span class=w> </span><span class=mi>80</span><span class=p>,</span><span class=w> </span><span class=err>‘</span><span class=n>Farmer</span><span class=err>’</span><span class=p>);</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><h5 id=defining-primary-keys-in-sql>Defining Primary Keys in SQL</h5>
<ul>
<li>A primary key definition PRIMARY KEY (&mldr;) is another element in the list of elements of a CREATE TABLE statement.
<ul>
<li>Movie(\underline{mvID}, title, rating, length, studio)</li>
</ul>
</li>
</ul>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Movie</span><span class=p>(</span><span class=w>
</span><span class=w>    </span><span class=n>mvID</span><span class=w>     </span><span class=nb>INTEGER</span><span class=p>,</span><span class=w>
</span><span class=w>    </span><span class=n>title</span><span class=w>    </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>40</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=n>rating</span><span class=w>   </span><span class=nb>CHAR</span><span class=p>(</span><span class=mi>2</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=n>rel_date</span><span class=w> </span><span class=nb>DATE</span><span class=p>,</span><span class=w>
</span><span class=w>    </span><span class=k>length</span><span class=w>   </span><span class=nb>INTEGER</span><span class=p>,</span><span class=w>
</span><span class=w>    </span><span class=n>studio</span><span class=w>   </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>mvID</span><span class=p>)</span><span class=w>
</span><span class=w></span><span class=p>);</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><ul>
<li>Several attributes together make up a key.
<ul>
<li>Classification (mvID, Genre)</li>
</ul>
</li>
</ul>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Classification</span><span class=p>(</span><span class=w>
</span><span class=w>    </span><span class=n>mvID</span><span class=w>     </span><span class=nb>INTEGER</span><span class=p>,</span><span class=w>
</span><span class=w>    </span><span class=n>genre</span><span class=w>    </span><span class=nb>CHAR</span><span class=p>(</span><span class=mi>10</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>mvID</span><span class=p>,</span><span class=w> </span><span class=n>genre</span><span class=p>),</span><span class=w>
</span><span class=w></span><span class=p>);</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><h5 id=ensuring-data-integrity-primary-key-unique-constraints>Ensuring Data Integrity: primary key unique constraints</h5>
<ul>
<li>The unique constraint: tuples can not have the same value for all PK attributes.</li>
<li>With the given Movie relation schema:
Create table Movie (.. Primary key (mvID));</li>
</ul>
<p><em><strong>Underline indicates primary key!</strong></em></p>
<p>Movie(\underline{mvID}, Title, Rating, Rel_date, Length, Studio)</p>
<ul>
<li>mvID is the primary key for the Movie relation.</li>
</ul>
<p><img class=lazyload src=https://yanboyang.com/svg/loading.min.svg data-src=https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615431584/DatabaseConcepts/canNotHaveSameValueForPK_p7fvlp.png data-srcset="https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615431584/DatabaseConcepts/canNotHaveSameValueForPK_p7fvlp.png, https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615431584/DatabaseConcepts/canNotHaveSameValueForPK_p7fvlp.png 1.5x, https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615431584/DatabaseConcepts/canNotHaveSameValueForPK_p7fvlp.png 2x" data-sizes=auto alt=https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615431584/DatabaseConcepts/canNotHaveSameValueForPK_p7fvlp.png title=https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615431584/DatabaseConcepts/canNotHaveSameValueForPK_p7fvlp.png></p>
<ul>
<li>The entity integrity constraint: Null is not allowed for PK attributes.</li>
</ul>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=k>insert</span><span class=w> </span><span class=k>into</span><span class=w> </span><span class=n>movie</span><span class=w> </span><span class=k>values</span><span class=w> </span><span class=p>(</span><span class=k>NULL</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;My Life in Ruins&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;PG&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;16-JUL-2009&#39;</span><span class=p>,</span><span class=w> </span><span class=mi>95</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;29th Centrury Fox&#39;</span><span class=p>);</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><p><img class=lazyload src=https://yanboyang.com/svg/loading.min.svg data-src=https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615431719/DatabaseConcepts/NullisNotAllowedForPK_gwfj1w.png data-srcset="https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615431719/DatabaseConcepts/NullisNotAllowedForPK_gwfj1w.png, https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615431719/DatabaseConcepts/NullisNotAllowedForPK_gwfj1w.png 1.5x, https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615431719/DatabaseConcepts/NullisNotAllowedForPK_gwfj1w.png 2x" data-sizes=auto alt=https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615431719/DatabaseConcepts/NullisNotAllowedForPK_gwfj1w.png title=https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615431719/DatabaseConcepts/NullisNotAllowedForPK_gwfj1w.png></p>
<h5 id=defining-foreign-keys>Defining Foreign Keys</h5>
<ul>
<li>A foreign key definition</li>
</ul>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(....)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>relation</span><span class=p>(</span><span class=n>attributes</span><span class=p>)</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><p>Can be added as an element in the CREATE TABLE statement.</p>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Classification</span><span class=p>(</span><span class=w>
</span><span class=w>    </span><span class=n>mvID</span><span class=w>     </span><span class=nb>INTEGER</span><span class=p>,</span><span class=w>
</span><span class=w>    </span><span class=n>genre</span><span class=w>    </span><span class=nb>CHAR</span><span class=p>(</span><span class=mi>10</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>mvID</span><span class=p>,</span><span class=w> </span><span class=n>genre</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>mvID</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Movie</span><span class=p>(</span><span class=n>mvID</span><span class=p>)</span><span class=w>
</span><span class=w></span><span class=p>);</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=k>Cast</span><span class=p>(</span><span class=w>
</span><span class=w>    </span><span class=n>mvID</span><span class=w>     </span><span class=nb>INTEGER</span><span class=p>,</span><span class=w>
</span><span class=w>    </span><span class=n>actor</span><span class=w>    </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>mvID</span><span class=p>,</span><span class=w> </span><span class=n>actor</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>mvID</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Movie</span><span class=p>(</span><span class=n>mvID</span><span class=p>)</span><span class=w>
</span><span class=w></span><span class=p>);</span><span class=w>
</span><span class=w>
</span><span class=w></span><span class=k>CREATE</span><span class=w> </span><span class=k>TABLE</span><span class=w> </span><span class=n>Direct</span><span class=p>(</span><span class=w>
</span><span class=w>    </span><span class=n>mvID</span><span class=w>     </span><span class=nb>INTEGER</span><span class=p>,</span><span class=w>
</span><span class=w>    </span><span class=n>director</span><span class=w> </span><span class=nb>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=k>PRIMARY</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>mvID</span><span class=p>,</span><span class=w> </span><span class=n>director</span><span class=p>),</span><span class=w>
</span><span class=w>    </span><span class=k>FOREIGN</span><span class=w> </span><span class=k>KEY</span><span class=w> </span><span class=p>(</span><span class=n>mvID</span><span class=p>)</span><span class=w> </span><span class=k>REFERENCES</span><span class=w> </span><span class=n>Movie</span><span class=p>(</span><span class=n>mvID</span><span class=p>)</span><span class=w>
</span><span class=w></span><span class=p>);</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><h5 id=the-movies-db--primary-and-foreign-keys>The Movies DB – Primary and Foreign Keys</h5>
<ul>
<li>A movieID that does not appear in the Movie relation cannot be added into the Classification, Cast or Direct relations.</li>
<li>A tuple (describing a movie) can only be deleted from the Movie relation if its mvID does not appear in Classification, Cast or Direct. In other words, dangling mvID values in Classifiction, Cast or Direct are not allowed.</li>
</ul>
<h5 id=ensuring-data-integrity--foreign-keys>Ensuring Data Integrity – foreign keys</h5>
<ul>
<li>
<p>The foreign key referential integrity constraint ensures sensible insertion.
<img class=lazyload src=https://yanboyang.com/svg/loading.min.svg data-src=https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615432787/DatabaseConcepts/ReferentialIntegrityConstraintViolated_kbfufo.png data-srcset="https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615432787/DatabaseConcepts/ReferentialIntegrityConstraintViolated_kbfufo.png, https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615432787/DatabaseConcepts/ReferentialIntegrityConstraintViolated_kbfufo.png 1.5x, https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615432787/DatabaseConcepts/ReferentialIntegrityConstraintViolated_kbfufo.png 2x" data-sizes=auto alt=https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615432787/DatabaseConcepts/ReferentialIntegrityConstraintViolated_kbfufo.png title=https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615432787/DatabaseConcepts/ReferentialIntegrityConstraintViolated_kbfufo.png></p>
</li>
<li>
<p>The foreign key referential integrity constraint ensures sensible deletion. A movie is deleted only when it is not referenced by any other relations.</p>
</li>
<li>
<p>Example: To delete the movie “Happy Potter” from the database.</p>
</li>
</ul>
<div class=highlight><div class=chroma>
<table class=lntable><tr><td class=lntd>
<pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td>
<td class=lntd>
<pre tabindex=0 class=chroma><code class=language-SQL data-lang=SQL><span class=k>delete</span><span class=w> </span><span class=k>from</span><span class=w> </span><span class=n>movie</span><span class=w> </span><span class=k>where</span><span class=w> </span><span class=n>mvid</span><span class=o>=</span><span class=mi>3</span><span class=p>;</span><span class=w>
</span></code></pre></td></tr></table>
</div>
</div><p><img class=lazyload src=https://yanboyang.com/svg/loading.min.svg data-src=https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615432927/DatabaseConcepts/ReferentialIntegrityConstraintViolated2_iahyjs.png data-srcset="https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615432927/DatabaseConcepts/ReferentialIntegrityConstraintViolated2_iahyjs.png, https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615432927/DatabaseConcepts/ReferentialIntegrityConstraintViolated2_iahyjs.png 1.5x, https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615432927/DatabaseConcepts/ReferentialIntegrityConstraintViolated2_iahyjs.png 2x" data-sizes=auto alt=https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615432927/DatabaseConcepts/ReferentialIntegrityConstraintViolated2_iahyjs.png title=https://res.cloudinary.com/dkvj6mo4c/image/upload/v1615432927/DatabaseConcepts/ReferentialIntegrityConstraintViolated2_iahyjs.png></p>
</div><div class=post-footer id=post-footer>
<div class=post-info>
<div class=post-info-line>
<div class=post-info-mod>
<span>Updated on 2021-12-15</span>
</div>
<div class=post-info-license></div>
</div>
<div class=post-info-line>
<div class=post-info-md><span>
<a class=link-to-markdown href=https://yanboyang.com/databaseconcepts/index.md target=_blank rel="noopener noreferrer">Read Markdown</a>
</span></div>
<div class=post-info-share>
<span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://yanboyang.com/databaseconcepts/ data-title="Database Concepts"><i class="fab fa-twitter fa-fw"></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://yanboyang.com/databaseconcepts/><i class="fab fa-facebook-square fa-fw"></i></a><a href=javascript:void(0); title="Share on WhatsApp" data-sharer=whatsapp data-url=https://yanboyang.com/databaseconcepts/ data-title="Database Concepts" data-web><i class="fab fa-whatsapp fa-fw"></i></a><a href=javascript:void(0); title="Share on Line" data-sharer=line data-url=https://yanboyang.com/databaseconcepts/ data-title="Database Concepts"><i data-svg-src=https://yanboyang.com/lib/simple-icons/icons/line.min.svg></i></a><a href=javascript:void(0); title="Share on 微博" data-sharer=weibo data-url=https://yanboyang.com/databaseconcepts/ data-title="Database Concepts"><i class="fab fa-weibo fa-fw"></i></a><a href=javascript:void(0); title="Share on Myspace" data-sharer=myspace data-url=https://yanboyang.com/databaseconcepts/ data-title="Database Concepts" data-description><i data-svg-src=https://yanboyang.com/lib/simple-icons/icons/myspace.min.svg></i></a><a href=javascript:void(0); title="Share on Blogger" data-sharer=blogger data-url=https://yanboyang.com/databaseconcepts/ data-title="Database Concepts" data-description><i class="fab fa-blogger fa-fw"></i></a><a href=javascript:void(0); title="Share on Evernote" data-sharer=evernote data-url=https://yanboyang.com/databaseconcepts/ data-title="Database Concepts"><i class="fab fa-evernote fa-fw"></i></a></span>
</div>
</div>
</div>
<div class=post-info-more>
<section class=post-tags></section>
<section>
<span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=https://yanboyang.com/>Home</a></span>
</section>
</div>
<div class=post-nav><a href=https://yanboyang.com/dns/ class=prev rel=prev title=dns><i class="fas fa-angle-left fa-fw"></i>dns</a>
<a href=https://yanboyang.com/azureraisecase/ class=next rel=next title="Azure Raise Support Ticket/Case and Troubleshooting Guide">Azure Raise Support Ticket/Case and Troubleshooting Guide<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
<div id=comments><div id=disqus_thread class=comment></div><noscript>
Please enable JavaScript to view the comments powered by <a href=https://disqus.com/?ref_noscript>Disqus</a>.
</noscript></div></article></div>
</main><footer class=footer>
<div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreferrer" title="Hugo 0.90.1">Hugo</a> | Theme - <a href=https://github.com/sunt-programator/CodeIT target=_blank rel="noopener noreferrer" title="CodeIT 0.2.10"><i class="fas fa-laptop-code fa-fw"></i> CodeIT</a>
</div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2019 - 2021</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://yanboyang.com/ target=_blank rel="noopener noreferrer">Boyang Yan</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div>
</div>
</footer></div>
<div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top">
<i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments">
<i class="fas fa-comment fa-fw"></i>
</a>
</div><link rel=stylesheet href=https://yanboyang.com/lib/katex/katex.min.css><link rel=stylesheet href=https://yanboyang.com/lib/katex/copy-tex.min.css><link rel=stylesheet href=https://yanboyang.com/lib/cookieconsent/cookieconsent.min.css><script type=text/javascript src=https://boyang-blog.disqus.com/embed.js defer></script><script type=text/javascript src=https://yanboyang.com/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=https://yanboyang.com/lib/autocomplete/autocomplete.min.js></script><script type=text/javascript src=https://yanboyang.com/lib/lunr/lunr.min.js></script><script type=text/javascript src=https://yanboyang.com/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=https://yanboyang.com/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=https://yanboyang.com/lib/sharer/sharer.min.js></script><script type=text/javascript src=https://yanboyang.com/lib/katex/katex.min.js></script><script type=text/javascript src=https://yanboyang.com/lib/katex/auto-render.min.js></script><script type=text/javascript src=https://yanboyang.com/lib/katex/copy-tex.min.js></script><script type=text/javascript src=https://yanboyang.com/lib/katex/mhchem.min.js></script><script type=text/javascript src=https://yanboyang.com/lib/cookieconsent/cookieconsent.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:1e3},comment:{},cookieconsent:{content:{dismiss:"Got it!",link:"Learn more",message:"This website uses Cookies to improve your experience."},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{highlightTag:"em",lunrIndexURL:"/index.json",maxResultLength:10,noResultsFound:"No results found",snippetLength:30,type:"lunr"}}</script><script type=text/javascript src=https://yanboyang.com/js/theme.min.js></script></body>
</html>